#include "Test.h"

bool test(const std::string &puzzle, const std::string &notes, const std::string &expectedNotes)
{
    Grid grid;
    grid.fillValues(puzzle);
    grid.fillNotes(notes);

    solver::techniques::lockedCandidates(grid);

    return checkNotes(grid, puzzle, notes, expectedNotes);
}

int main(int, char **)
{
    // Locked candidates (Type 1) row for value 5 at:
    // (2,0) (2,1)
    // Locked candidates (Type 1) column for value 8 at:
    // (1,4)
    // (2,4)
    if (!test("984........25...4...19.4..2..6.9723...36.2...2.9.3561.195768423427351896638..9751",
              R"(
                .........|.........|.........|  12.......|12....7..|..3..6...|  1.3.5....|.....67..|....5.7..|
                ..3...7..|.....67..|.........|  .........|1.....78.|..3..6...|  1.3.....9|.........|......789|
                ..3.5.7..|....567..|.........|  .........|......78.|.........|  ..3.5....|.....678.|.........|

                ....5..8.|1..45....|.........|  1..4...8.|.........|.........|  .........|.........|...45..8.|
                ....5.78.|1..45.7..|.........|  .........|1..4...8.|.........|  ....5...9|......78.|...45.789|
                .........|...4..7..|.........|  ...4...8.|.........|.........|  .........|.........|...4..78.|

                .........|.........|.........|  .........|.........|.........|  .........|.........|.........|
                .........|.........|.........|  .........|.........|.........|  .........|.........|.........|
                .........|.........|.........|  .2.4.....|.2.4.....|.........|  .........|.........|.........|
              )",
              R"(
                .........|.........|.........|  12.......|12....7..|..3..6...|  1.3.5....|.....67..|....5.7..|
                ..3...7..|.....67..|.........|  .........|1.....78.|..3..6...|  1.3.....9|.........|......789|
                ..3.5.7..|....567..|.........|  .........|......78.|.........|  ..3......|.....678.|.........|

                ....5..8.|1..45....|.........|  1..4...8.|.........|.........|  .........|.........|...45..8.|
                ....5.78.|1..45.7..|.........|  .........|1..4.....|.........|  ....5...9|......78.|...45.789|
                .........|...4..7..|.........|  ...4...8.|.........|.........|  .........|.........|...4..78.|

                .........|.........|.........|  .........|.........|.........|  .........|.........|.........|
                .........|.........|.........|  .........|.........|.........|  .........|.........|.........|
                .........|.........|.........|  .2.4.....|.2.4.....|.........|  .........|.........|.........|
              )"))
        return failed();

    // Locked candidates (Type 1) row for value 1 at:
    // (6,3) (6,5)
    // Locked candidates (Type 1) row for value 6 at:
    // (6,6) (6,8)
    // Locked candidates (Type 1) row for value 1 at:
    // (7,6) (7,8)
    if (!test("34...6.7..8....93...2.3..6.....1.....9736485......2...............6.8.9....923785",
              R"(
                .........|.........|1...5...9|  12..5..8.|....5..89|.........|  12..5....|.........|12.....8.|
                1...567..|.........|1...56...|  12.45.7..|...45.7..|1...5.7..|  .........|.........|12.4.....|
                1...5.7.9|1...5.7..|.........|  1..45.78.|.........|1...5.7.9|  1..45....|.........|1..4...8.|

                .2.456.8.|.23.56...|..3456.8.|  ....5.78.|.........|....5.7.9|  .234.6...|.2.4.....|.234.67.9|
                12.......|.........|.........|  .........|.........|.........|  .........|.........|12.......|
                1..456.8.|1.3.56...|1.3456.8.|  ....5.78.|....5.789|.........|  1.34.6...|1..4.....|1.34.67.9|

                12.456789|123.567..|1.3456.89|  1..45.7..|...45.7..|1...5.7..|  1234.6...|12.4.....|1234.6...|
                12.45.7..|123.5.7..|1.345....|  .........|...45.7..|.........|  1234.....|.........|1234.....|
                1..4.6...|1....6...|1..4.6...|  .........|.........|.........|  .........|.........|.........|
              )",
              R"(
                .........|.........|1...5...9|  12..5..8.|....5..89|.........|  12..5....|.........|12.....8.|
                1...567..|.........|1...56...|  12.45.7..|...45.7..|1...5.7..|  .........|.........|12.4.....|
                1...5.7.9|1...5.7..|.........|  1..45.78.|.........|1...5.7.9|  1..45....|.........|1..4...8.|

                .2.456.8.|.23.56...|..3456.8.|  ....5.78.|.........|....5.7.9|  .234.6...|.2.4.....|.234.67.9|
                12.......|.........|.........|  .........|.........|.........|  .........|.........|12.......|
                1..456.8.|1.3.56...|1.3456.8.|  ....5.78.|....5.789|.........|  1.34.6...|1..4.....|1.34.67.9|

                .2.45.789|.23.5.7..|..345..89|  1..45.7..|...45.7..|1...5.7..|  .234.6...|.2.4.....|.234.6...|
                .2.45.7..|.23.5.7..|..345....|  .........|...45.7..|.........|  1234.....|.........|1234.....|
                1..4.6...|1....6...|1..4.6...|  .........|.........|.........|  .........|.........|.........|
              )"))
        return failed();

    // // Locked candidates (Type 2) row for value 7 at:
    // // (1,1) (1,2)
    // if (!test("318..54.6...6.381...6.8.5.3864952137123476958795318264.3.5..78......73.5....39641",
    //           R"(
    //             .........|.........|.........|  .2....7..|.2......9|.........|  .........|.2....7.9|.........|
    //             .2.45...9|...45.7..|.2....7.9|  .........|.2.4....9|.........|  .........|.........|.2......9|
    //             .2.4....9|...4..7..|.........|  12....7..|.........|1..4.....|  .........|.2....7.9|.........|

    //             .........|.........|.........|  .........|.........|.........|  .........|.........|.........|
    //             .........|.........|.........|  .........|.........|.........|  .........|.........|.........|
    //             .........|.........|.........|  .........|.........|.........|  .........|.........|.........|

    //             .2.4.6..9|.........|12......9|  .........|.2.4.6...|1..4.....|  .........|.........|.2......9|
    //             .2.4.6..9|...4...8.|12......9|  12.....8.|.2.4.6...|.........|  .........|.2......9|.........|
    //             .2..5....|....5.78.|.2....7..|  .2.....8.|.........|.........|  .........|.........|.........|
    //           )",
    //           R"(
    //             .........|.........|.........|  .2....7..|.2......9|.........|  .........|.2....7.9|.........|
    //             .2.45...9|...45.7..|.2....7.9|  .........|.2.4....9|.........|  .........|.........|.2......9|
    //             .2.4....9|...4.....|.........|  12....7..|.........|1..4.....|  .........|.2....7.9|.........|

    //             .........|.........|.........|  .........|.........|.........|  .........|.........|.........|
    //             .........|.........|.........|  .........|.........|.........|  .........|.........|.........|
    //             .........|.........|.........|  .........|.........|.........|  .........|.........|.........|

    //             .2.4.6..9|.........|12......9|  .........|.2.4.6...|1..4.....|  .........|.........|.2......9|
    //             .2.4.6..9|...4...8.|12......9|  12.....8.|.2.4.6...|.........|  .........|.2......9|.........|
    //             .2..5....|....5.78.|.2....7..|  .2.....8.|.........|.........|  .........|.........|.........|
    //           )"))
    //     return failed();

    // // Locked candidates (Type 2) column for value 4 at:
    // // (1,5)
    // // (2,5)
    // if (!test("762..8..198......615.....87478..3169526..98733198..425835..1692297685314641932758",
    //           R"(
    //             .........|.........|.........|  ..345....|...45...9|.........|  ....5...9|..34.....|.........|
    //             .........|.........|..34.....|  12345.7..|12.45.7..|...4..7..|  .2..5....|..34.....|.........|
    //             .........|.........|..34.....|  .234.....|.2.4.6..9|...4.6...|  .2......9|.........|.........|

    //             .........|.........|.........|  .2..5....|.2..5....|.........|  .........|.........|.........|
    //             .........|.........|.........|  1..4.....|1..4.....|.........|  .........|.........|.........|
    //             .........|.........|.........|  .........|.....67..|.....67..|  .........|.........|.........|

    //             .........|.........|.........|  ...4..7..|...4..7..|.........|  .........|.........|.........|
    //             .........|.........|.........|  .........|.........|.........|  .........|.........|.........|
    //             .........|.........|.........|  .........|.........|.........|  .........|.........|.........|
    //           )",
    //           R"(
    //             .........|.........|.........|  ..3.5....|....5...9|.........|  ....5...9|..34.....|.........|
    //             .........|.........|..34.....|  123.5.7..|12..5.7..|...4..7..|  .2..5....|..34.....|.........|
    //             .........|.........|..34.....|  .23......|.2...6..9|...4.6...|  .2......9|.........|.........|

    //             .........|.........|.........|  .2..5....|.2..5....|.........|  .........|.........|.........|
    //             .........|.........|.........|  1..4.....|1..4.....|.........|  .........|.........|.........|
    //             .........|.........|.........|  .........|.....67..|.....67..|  .........|.........|.........|

    //             .........|.........|.........|  ...4..7..|...4..7..|.........|  .........|.........|.........|
    //             .........|.........|.........|  .........|.........|.........|  .........|.........|.........|
    //             .........|.........|.........|  .........|.........|.........|  .........|.........|.........|
    //           )"))
    //     return failed();

    return passed();
}