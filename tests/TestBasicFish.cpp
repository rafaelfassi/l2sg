#include "Test.h"

bool test(solver::BasicFishType fishType, const std::string &puzzle, const std::string &board,
          solver::Technique expectedTechnique, const CellLogs &expectedCellLogs)
{
    Grid grid;
    grid.fillBoard(board);

    solver::Logs logs;
    bool changed = solver::techniques::basicFish(grid, fishType, &logs);

    return checkAll(puzzle, grid, board, changed, expectedTechnique, expectedCellLogs, logs);
}

int main(int, char **)
{
    // (1,0) (1,3) .....
    // (2,0) ..... (2,8)
    // ..... (7,3) (7,8)
    if (!test(solver::BasicFishType::Swordfish,
              "8.4...1.5.16.85794.9.4.183...25.96....9.3....6518.79.3.437.8.1.168.5437.9.......8",
              R"(
                .--------------.---------------.---------------.
                | 8    237  4  | 2369  79  236 | 1    26    5  |
                | 23   1    6  | 23    8   5   | 7    9     4  |
                | 257  9    57 | 4     67  1   | 8    3     26 |
                :--------------+---------------+---------------:
                | 347  378  2  | 5     14  9   | 6    48    17 |
                | 47   78   9  | 126   3   26  | 245  2458  17 |
                | 6    5    1  | 8     24  7   | 9    24    3  |
                :--------------+---------------+---------------:
                | 25   4    3  | 7     69  8   | 25   1     69 |
                | 1    6    8  | 29    5   4   | 3    7     29 |
                | 9    27   57 | 1236  12  236 | 245  2456  8  |
                '--------------'---------------'---------------'
              )",
              solver::Technique::Swordfish,
              {
                  // Pattern
                  CL(1, 0, CA::RelatedNote, 2), CL(1, 3, CA::RelatedNote, 2),                               //
                  CL(2, 0, CA::RelatedNote, 2), /*                         */ CL(2, 8, CA::RelatedNote, 2), //
                  /*                         */ CL(7, 3, CA::RelatedNote, 2), CL(7, 8, CA::RelatedNote, 2), //

                  // Remove
                  /*                         */ CL(0, 3, CA::RemovedNote, 2), //
                  /*                         */ CL(4, 3, CA::RemovedNote, 2), //
                  CL(6, 0, CA::RemovedNote, 2),                               //
                  /*                         */ CL(8, 3, CA::RemovedNote, 2)  //
              }))
        return failed();

    // (0,1) (0,4) .....
    // (5,1) ..... (5,7)
    // ..... (8,4) (8,7)
    if (!test(solver::BasicFishType::Swordfish,
              "..9..6.4.....1.76..65.42.98396.85.2..52.6.98....29...664..5.23...7.2.6...2.6..8..",
              R"(
                .-----------------.------------------.------------------.
                | 1278  1378  9   | 58     37  6     | 135   4    1235  |
                | 248   38    348 | 589    1   89    | 7     6    235   |
                | 17    6     5   | 37     4   2     | 13    9    8     |
                :-----------------+------------------+------------------:
                | 3     9     6   | 147    8   5     | 14    2    17    |
                | 147   5     2   | 1347   6   1347  | 9     8    137   |
                | 1478  178   148 | 2      9   1347  | 1345  157  6     |
                :-----------------+------------------+------------------:
                | 6     4     18  | 1789   5   1789  | 2     3    179   |
                | 59    138   7   | 13489  2   13489 | 6     15   1459  |
                | 59    2     13  | 6      37  13479 | 8     157  14579 |
                '-----------------'------------------'------------------'
              )",
              solver::Technique::Swordfish,
              {
                  // Pattern
                  CL(0, 1, CA::RelatedNote, 7), CL(0, 4, CA::RelatedNote, 7),                               //
                  CL(5, 1, CA::RelatedNote, 7), /*                         */ CL(5, 7, CA::RelatedNote, 7), //
                  /*                         */ CL(8, 4, CA::RelatedNote, 7), CL(8, 7, CA::RelatedNote, 7), //

                  // Remove
                  CL(0, 0, CA::RemovedNote, 7),                                                            //
                  CL(5, 0, CA::RemovedNote, 7), CL(5, 5, CA::RemovedNote, 7),                              //
                  /*                         */ CL(8, 5, CA::RemovedNote, 7), CL(8, 8, CA::RemovedNote, 7) //
              }))
        return failed();

    // (1,0) (1,4) .....
    // ..... (2,4) (2,7)
    // (8,0) ..... (8,7)
    if (!test(solver::BasicFishType::Swordfish,
              "16.543.7..786.14354358.76.172.458.696..912.57...376..4.16.3..4.3...8..16..71645.3",
              R"(
                .----------------.------------.---------------.
                | 1     6    29  | 5   4   3  | 289   7    28 |
                | 29    7    8   | 6   29  1  | 4     3    5  |
                | 4     3    5   | 8   29  7  | 6     29   1  |
                :----------------+------------+---------------:
                | 7     2    13  | 4   5   8  | 13    6    9  |
                | 6     48   34  | 9   1   2  | 38    5    7  |
                | 589   589  19  | 3   7   6  | 128   28   4  |
                :----------------+------------+---------------:
                | 2589  1    6   | 27  3   59 | 2789  4    28 |
                | 3     459  249 | 27  8   59 | 279   1    6  |
                | 289   89   7   | 1   6   4  | 5     289  3  |
                '----------------'------------'---------------'
              )",
              solver::Technique::Swordfish,
              {
                  // Pattern
                  CL(1, 0, CA::RelatedNote, 2), CL(1, 4, CA::RelatedNote, 2),                               //
                  /*                         */ CL(2, 4, CA::RelatedNote, 2), CL(2, 7, CA::RelatedNote, 2), //
                  CL(8, 0, CA::RelatedNote, 2), /*                         */ CL(8, 7, CA::RelatedNote, 2), //

                  // Remove
                  /*                         */ /*                         */ CL(5, 7, CA::RemovedNote, 2), //
                  CL(6, 0, CA::RemovedNote, 2)                                                              //
              }))
        return failed();

    // (1,1) ..... (1,6)
    // ..... (2,5) (2,6)
    // (4,1) (4,5) .....
    if (!test(solver::BasicFishType::Swordfish, // Column
              "76..984353.4675.8959843..76.56.493272...5.9644.9.6.8519..52461.64.3.759...59.674.",
              R"(
                .-------------.-------------.-----------.
                | 7   6    12 | 12   9   8  | 4   3  5  |
                | 3   12   4  | 6    7   5  | 12  8  9  |
                | 5   9    8  | 4    3   12 | 12  7  6  |
                :-------------+-------------+-----------:
                | 18  5    6  | 18   4   9  | 3   2  7  |
                | 2   18   37 | 178  5   13 | 9   6  4  |
                | 4   37   9  | 27   6   23 | 8   5  1  |
                :-------------+-------------+-----------:
                | 9   378  37 | 5    2   4  | 6   1  38 |
                | 6   4    12 | 3    18  7  | 5   9  28 |
                | 18  23   5  | 9    18  6  | 7   4  23 |
                '-------------'-------------'-----------'
              )",
              solver::Technique::Swordfish,
              {
                  // Pattern
                  CL(1, 1, CA::RelatedNote, 1), /*                         */ CL(1, 6, CA::RelatedNote, 1), //
                  /*                         */ CL(2, 5, CA::RelatedNote, 1), CL(2, 6, CA::RelatedNote, 1), //
                  CL(4, 1, CA::RelatedNote, 1), CL(4, 5, CA::RelatedNote, 1),                               //

                  // Remove
                  CL(4, 3, CA::RemovedNote, 1) //
              }))
        return failed();

    // (1,1) (1,4) (1,6)
    // ..... (6,4) (6,6)
    // (7,1) (7,4) .....
    if (!test(solver::BasicFishType::Swordfish, // Row
              "985.1..7.1.49.6.58.6..5819.793165842428.9..1.6512849378465.1.295..6.9481.1984..6.",
              R"(
                .------------.---------------.-------------.
                | 9   8   5  | 34   1    23  | 236  7  346 |
                | 1   37  4  | 9    237  6   | 23   5  8   |
                | 23  6   27 | 347  5    8   | 1    9  34  |
                :------------+---------------+-------------:
                | 7   9   3  | 1    6    5   | 8    4  2   |
                | 4   2   8  | 37   9    37  | 56   1  56  |
                | 6   5   1  | 2    8    4   | 9    3  7   |
                :------------+---------------+-------------:
                | 8   4   6  | 5    37   1   | 37   2  9   |
                | 5   37  27 | 6    23   9   | 4    8  1   |
                | 23  1   9  | 8    4    237 | 357  6  35  |
                '------------'---------------'-------------'
              )",
              solver::Technique::Swordfish,
              {
                  // Pattern
                  CL(1, 1, CA::RelatedNote, 3), CL(1, 4, CA::RelatedNote, 3), CL(1, 6, CA::RelatedNote, 3), //
                  /*                         */ CL(6, 4, CA::RelatedNote, 3), CL(6, 6, CA::RelatedNote, 3), //
                  CL(7, 1, CA::RelatedNote, 3), CL(7, 4, CA::RelatedNote, 3),                               //

                  // Remove
                  CL(0, 6, CA::RemovedNote, 3), //
                  CL(8, 6, CA::RemovedNote, 3)  //
              }))
        return failed();

    // (0,0) (0,2) .....
    // (3,0) (3,2) (3,6)
    // (8,0) (8,2) (8,6)
    if (!test(solver::BasicFishType::Swordfish, // Row
              ".4.3.5.2...7.4.3.1...1.8..4.9...6.48..4...7..5..4...9.4..5.....8.3.1.4...6.8.4.3.",
              R"(
                .-------------------.-------------------.--------------------.
                | 169   4      1689 | 3     679    5    | 689    2     679   |
                | 269   58     7    | 269   4      29   | 3      58    1     |
                | 2369  235    2569 | 1     2679   8    | 569    567   4     |
                :-------------------+-------------------+--------------------:
                | 1237  9      12   | 27    235    6    | 125    4     8     |
                | 1236  1238   4    | 29    23589  1239 | 7      156   2356  |
                | 5     12378  1268 | 4     238    1237 | 126    9     236   |
                :-------------------+-------------------+--------------------:
                | 4     127    129  | 5     2369   2379 | 12689  1678  2679  |
                | 8     257    3    | 2679  1      279  | 4      567   25679 |
                | 1279  6      1259 | 8     29     4    | 1259   3     2579  |
                '-------------------'-------------------'--------------------'
              )",
              solver::Technique::Swordfish,
              {
                  // Pattern
                  CL(0, 0, CA::RelatedNote, 1), CL(0, 2, CA::RelatedNote, 1),                               //
                  CL(3, 0, CA::RelatedNote, 1), CL(3, 2, CA::RelatedNote, 1), CL(3, 6, CA::RelatedNote, 1), //
                  CL(8, 0, CA::RelatedNote, 1), CL(8, 2, CA::RelatedNote, 1), CL(8, 6, CA::RelatedNote, 1), //

                  // Remove
                  CL(4, 0, CA::RemovedNote, 1),                                                             //
                  /*                         */ CL(5, 2, CA::RemovedNote, 1), CL(5, 6, CA::RemovedNote, 1), //
                  /*                         */ CL(6, 2, CA::RemovedNote, 1), CL(6, 6, CA::RemovedNote, 1)  //
              }))
        return failed();

    // (1,0) ..... (1,7)
    // (5,0) (5,1) .....
    // (6,0) (6,1) (6,7)
    if (!test(solver::BasicFishType::Swordfish, // row
              "1......3.....17..25....49..8..9.62..9..47.3.6..71.2.95..18..7.47..6....9.5.7....3",
              R"(
                .----------------.--------------.--------------.
                | 1    27   24   | 25  69   89  | 456  3    78 |
                | 346  89   89   | 35  1    7   | 45   46   2  |
                | 5    367  236  | 23  68   4   | 9    17   18 |
                :----------------+--------------+--------------:
                | 8    14   35   | 9   35   6   | 2    47   17 |
                | 9    12   25   | 4   7    58  | 3    18   6  |
                | 346  346  7    | 1   38   2   | 48   9    5  |
                :----------------+--------------+--------------:
                | 236  369  1    | 8   259  359 | 7    256  4  |
                | 7    348  348  | 6   245  135 | 18   258  9  |
                | 246  5    4689 | 7   249  19  | 168  268  3  |
                '----------------'--------------'--------------'
              )",
              solver::Technique::Swordfish,
              {
                  // Pattern
                  CL(1, 0, CA::RelatedNote, 6), /*                         */ CL(1, 7, CA::RelatedNote, 6), //
                  CL(5, 0, CA::RelatedNote, 6), CL(5, 1, CA::RelatedNote, 6),                               //
                  CL(6, 0, CA::RelatedNote, 6), CL(6, 1, CA::RelatedNote, 6), CL(6, 7, CA::RelatedNote, 6), //

                  // Remove
                  /*                         */ CL(2, 1, CA::RemovedNote, 6),                              //
                  CL(8, 0, CA::RemovedNote, 6), /*                         */ CL(8, 7, CA::RemovedNote, 6) //
              }))
        return failed();

    // (1,3) (1,4) .....
    // ..... (3,4) (3,6)
    // (6,3) ..... (6,6)
    if (!test(solver::BasicFishType::Swordfish, // column
              "816.3.4.973....8..59.8..3.72476.8.35.53.2.68468.4537..328.75.46.6.28457347536.2.8",
              R"(
                .-----------.--------------.--------------.
                | 8   1  6  | 57   3   27  | 4   25    9  |
                | 7   3  24 | 159  49  269 | 8   1256  12 |
                | 5   9  24 | 8    14  126 | 3   126   7  |
                :-----------+--------------+--------------:
                | 2   4  7  | 6    19  8   | 19  3     5  |
                | 19  5  3  | 17   2   179 | 6   8     4  |
                | 6   8  19 | 4    5   3   | 7   129   12 |
                :-----------+--------------+--------------:
                | 3   2  8  | 19   7   5   | 19  4     6  |
                | 19  6  19 | 2    8   4   | 5   7     3  |
                | 4   7  5  | 3    6   19  | 2   19    8  |
                '-----------'--------------'--------------'
              )",
              solver::Technique::Swordfish,
              {
                  // Pattern
                  CL(1, 3, CA::RelatedNote, 9), CL(1, 4, CA::RelatedNote, 9),                               //
                  /*                         */ CL(3, 4, CA::RelatedNote, 9), CL(3, 6, CA::RelatedNote, 9), //
                  CL(6, 3, CA::RelatedNote, 9), /*                         */ CL(6, 6, CA::RelatedNote, 9), //

                  // Remove
                  CL(1, 5, CA::RemovedNote, 9) //
              }))
        return failed();

    // (2,0) (2,2) .....
    // ..... (3,2) (3,7)
    // (6,0) ..... (6,7)
    if (!test(solver::BasicFishType::Swordfish, // column
              ".572...312.15738.....41957251.6.2..7..2.4531....7.1625..532.1..1.6.5.2.332.1..75.",
              R"(
                .--------------.---------------.----------------.
                | 49  5     7  | 2   68   68   | 49  3     1    |
                | 2   49    1  | 5   7    3    | 8   469   469  |
                | 68  368   38 | 4   1    9    | 5   7     2    |
                :--------------+---------------+----------------:
                | 5   1     38 | 6   389  2    | 49  48    7    |
                | 67  67    2  | 89  4    5    | 3   1     89   |
                | 49  38    49 | 7   38   1    | 6   2     5    |
                :--------------+---------------+----------------:
                | 78  4789  5  | 3   2    4678 | 1   4689  4689 |
                | 1   4789  6  | 89  5    478  | 2   49    3    |
                | 3   2     49 | 1   689  468  | 7   5     468  |
                '--------------'---------------'----------------'
              )",
              solver::Technique::Swordfish,
              {
                  // Pattern
                  CL(2, 0, CA::RelatedNote, 8), CL(2, 2, CA::RelatedNote, 8),                               //
                  /*                         */ CL(3, 2, CA::RelatedNote, 8), CL(3, 7, CA::RelatedNote, 8), //
                  CL(6, 0, CA::RelatedNote, 8), /*                         */ CL(6, 7, CA::RelatedNote, 8), //

                  // Remove
                  CL(2, 1, CA::RemovedNote, 8),                                                            //
                  CL(3, 4, CA::RemovedNote, 8),                                                            //
                  CL(6, 1, CA::RemovedNote, 8), CL(6, 5, CA::RemovedNote, 8), CL(6, 8, CA::RemovedNote, 8) //
              }))
        return failed();

    // (1,4) ..... (1,6) (1,7)
    // (3,4) ..... ..... (3,7)
    // (4,4) (4,5) (4,6) .....
    // ..... (8,5) (8,6) (8,7)
    if (!test(solver::BasicFishType::Jellyfish, // Row
              "9...5.648...6.2..77..94832.5....98.3.792...6.3.15....2.98.7..36.57396.8.63482...9",
              R"(
                .------------.--------------.--------------.
                | 9   12  23 | 17  5    137 | 6    4    8  |
                | 48  48  35 | 6   13   2   | 19   159  7  |
                | 7   16  56 | 9   4    8   | 3    2    15 |
                :------------+--------------+--------------:
                | 5   24  26 | 47  16   9   | 8    17   3  |
                | 48  7   9  | 2   138  13  | 15   6    45 |
                | 3   68  1  | 5   68   47  | 479  79   2  |
                :------------+--------------+--------------:
                | 12  9   8  | 14  7    145 | 25   3    6  |
                | 12  5   7  | 3   9    6   | 24   8    14 |
                | 6   3   4  | 8   2    15  | 17   157  9  |
                '------------'--------------'--------------'
              )",
              solver::Technique::Jellyfish,
              {
                  // Pattern
                  CL(1, 4, CA::RelatedNote, 1), CL(1, 6, CA::RelatedNote, 1), CL(1, 7, CA::RelatedNote, 1), //
                  CL(3, 4, CA::RelatedNote, 1), CL(3, 7, CA::RelatedNote, 1),                               //
                  CL(4, 4, CA::RelatedNote, 1), CL(4, 5, CA::RelatedNote, 1), CL(4, 6, CA::RelatedNote, 1), //
                  CL(8, 5, CA::RelatedNote, 1), CL(8, 6, CA::RelatedNote, 1), CL(8, 7, CA::RelatedNote, 1), //

                  // Remove
                  CL(0, 5, CA::RemovedNote, 1), //
                  CL(6, 5, CA::RemovedNote, 1)  //
              }))
        return failed();

    // ..... (0,4) (0,5) .....
    // (4,0) (4,4) (4,5) .....
    // ..... (6,4) ..... (6,7)
    // (8,0) (8,4) (8,5) (8,7)
    if (!test(solver::BasicFishType::Jellyfish, // Row
              ".513..826376.8....28...6.3.62..34.9..136..2.4.4.52..63.9.8.36.2.3..6.945.62...3..",
              R"(
                .--------------.------------------.---------------.
                | 49    5  1   | 3    479    79   | 8    2    6   |
                | 3     7  6   | 249  8      125  | 45   15   19  |
                | 2     8  49  | 149  15     6    | 457  3    179 |
                :--------------+------------------+---------------:
                | 6     2  58  | 17   3      4    | 157  9    78  |
                | 5789  1  3   | 6    79     789  | 2    58   4   |
                | 789   4  789 | 5    2      1789 | 17   6    3   |
                :--------------+------------------+---------------:
                | 145   9  45  | 8    157    3    | 6    17   2   |
                | 178   3  78  | 127  6      12   | 9    4    5   |
                | 157   6  2   | 49   14579  1579 | 3    178  18  |
                '--------------'------------------'---------------'
              )",
              solver::Technique::Jellyfish,
              {
                  // Pattern
                  CL(0, 4, CA::RelatedNote, 7), CL(0, 5, CA::RelatedNote, 7),                               //
                  CL(4, 0, CA::RelatedNote, 7), CL(4, 4, CA::RelatedNote, 7), CL(4, 5, CA::RelatedNote, 7), //
                  CL(6, 4, CA::RelatedNote, 7), CL(6, 7, CA::RelatedNote, 7),                               //
                  CL(8, 0, CA::RelatedNote, 7), CL(8, 4, CA::RelatedNote, 7), CL(8, 5, CA::RelatedNote, 7),
                  CL(8, 7, CA::RelatedNote, 7), //

                  // Remove
                  CL(5, 0, CA::RemovedNote, 7), CL(5, 5, CA::RemovedNote, 7), //
                  CL(7, 0, CA::RemovedNote, 7)                                //
              }))
        return failed();

    // (2,3) (2,4) ..... (2,8)
    // (3,3) ..... ..... (3,8)
    // ..... (4,4) (4,7) .....
    // (7,3) ..... (7,7) (7,8)
    if (!test(solver::BasicFishType::Jellyfish, // Row
              "5.......3...935.6.4.3..795.3...5162.245...7.168172...5..65..2.9934.625...52.....6",
              R"(
                .-----------------.--------------------.------------------.
                | 5    12679  789 | 12468  148    468  | 18    178   3    |
                | 17   127    78  | 9      3      5    | 148   6     2478 |
                | 4    126    3   | 1268   18     7    | 9     5     28   |
                :-----------------+--------------------+------------------:
                | 3    79     79  | 48     5      1    | 6     2     48   |
                | 2    4      5   | 36     89     36   | 7     89    1    |
                | 6    8      1   | 7      2      49   | 34    349   5    |
                :-----------------+--------------------+------------------:
                | 178  17     6   | 5      1478   348  | 2     1348  9    |
                | 9    3      4   | 18     6      2    | 5     178   78   |
                | 178  5      2   | 1348   14789  3489 | 1348  1348  6    |
                '-----------------'--------------------'------------------'
              )",
              solver::Technique::Jellyfish,
              {
                  // Pattern
                  CL(2, 3, CA::RelatedNote, 8), CL(2, 4, CA::RelatedNote, 8), CL(2, 8, CA::RelatedNote, 8), //
                  CL(3, 3, CA::RelatedNote, 8), CL(3, 8, CA::RelatedNote, 8),                               //
                  CL(4, 4, CA::RelatedNote, 8), CL(4, 7, CA::RelatedNote, 8),                               //
                  CL(7, 3, CA::RelatedNote, 8), CL(7, 7, CA::RelatedNote, 8), CL(7, 8, CA::RelatedNote, 8), //

                  // Remove
                  CL(0, 3, CA::RemovedNote, 8), CL(0, 4, CA::RemovedNote, 8), CL(0, 7, CA::RemovedNote, 8), //
                  CL(1, 8, CA::RemovedNote, 8),                                                             //
                  CL(6, 4, CA::RemovedNote, 8), CL(6, 7, CA::RemovedNote, 8),                               //
                  CL(8, 3, CA::RemovedNote, 8), CL(8, 4, CA::RemovedNote, 8), CL(8, 7, CA::RemovedNote, 8)  //
              }))
        return failed();

    // (0,1) ..... ..... (0,5)
    // (4,1) (4,2) ..... .....
    // ..... ..... (5,4) (5,5)
    // ..... (6,2) (6,4) .....
    if (!test(solver::BasicFishType::Jellyfish, // Row
              "7.69..84..8...4..73...78..9.3...9.1.2..783.56.5.4.....56.2.7..44....6.7..738456..",
              R"(
                .---------------.-----------------.-----------------.
                | 7   12   6    | 9     35     12 | 8     4     35  |
                | 19  8    1259 | 1356  12356  4  | 1235  236   7   |
                | 3   124  1245 | 156   7      8  | 12    26    9   |
                :---------------+-----------------+-----------------:
                | 68  3    47   | 56    256    9  | 47    1     28  |
                | 2   149  149  | 7     8      3  | 49    5     6   |
                | 68  5    79   | 4     126    12 | 2379  2389  38  |
                :---------------+-----------------+-----------------:
                | 5   6    189  | 2     139    7  | 39    389   4   |
                | 4   129  289  | 13    139    6  | 359   7     158 |
                | 19  7    3    | 8     4      5  | 6     29    12  |
                '---------------'-----------------'-----------------'
              )",
              solver::Technique::Jellyfish,
              {
                  // Pattern
                  CL(0, 1, CA::RelatedNote, 1), CL(0, 5, CA::RelatedNote, 1), //
                  CL(4, 1, CA::RelatedNote, 1), CL(4, 2, CA::RelatedNote, 1), //
                  CL(5, 4, CA::RelatedNote, 1), CL(5, 5, CA::RelatedNote, 1), //
                  CL(6, 2, CA::RelatedNote, 1), CL(6, 4, CA::RelatedNote, 1), //

                  // Remove
                  CL(1, 2, CA::RemovedNote, 1), CL(1, 4, CA::RemovedNote, 1), //
                  CL(2, 1, CA::RemovedNote, 1), CL(2, 2, CA::RemovedNote, 1), //
                  CL(7, 1, CA::RemovedNote, 1), CL(7, 4, CA::RemovedNote, 1)  //
              }))
        return failed();

    // (0,4) ..... (0,7) .....
    // ..... (4,5) (4,7) .....
    // ..... (6,5) ..... (6,8)
    // (8,4) ..... ..... (8,8)
    if (!test(solver::BasicFishType::Jellyfish, // Column
              "..36....1...3...6.69..15743.4.562.3.2.9.3.4.636..94.2.526.7.39.9...5367.7349.651.",
              R"(
                .------------------.--------------.-------------.
                | 48   578   3     | 6    248  79 | 289  58  1  |
                | 148  178   12578 | 3    24   79 | 289  6   59 |
                | 6    9     28    | 28   1    5  | 7    4   3  |
                :------------------+--------------+-------------:
                | 18   4     178   | 5    6    2  | 189  3   79 |
                | 2    1578  9     | 178  3    18 | 4    58  6  |
                | 3    6     1578  | 178  9    4  | 18   2   57 |
                :------------------+--------------+-------------:
                | 5    2     6     | 148  7    18 | 3    9   48 |
                | 9    18    18    | 24   5    3  | 6    7   24 |
                | 7    3     4     | 9    28   6  | 5    1   28 |
                '------------------'--------------'-------------'
              )",
              solver::Technique::Jellyfish,
              {
                  // Pattern
                  CL(0, 4, CA::RelatedNote, 8), CL(0, 7, CA::RelatedNote, 8), //
                  CL(4, 5, CA::RelatedNote, 8), CL(4, 7, CA::RelatedNote, 8), //
                  CL(6, 5, CA::RelatedNote, 8), CL(6, 8, CA::RelatedNote, 8), //
                  CL(8, 4, CA::RelatedNote, 8), CL(8, 8, CA::RelatedNote, 8), //

                  // Remove
                  CL(0, 0, CA::RemovedNote, 8), CL(0, 1, CA::RemovedNote, 8), CL(0, 6, CA::RemovedNote, 8), //
                  CL(4, 1, CA::RemovedNote, 8), CL(4, 3, CA::RemovedNote, 8),                               //
                  CL(6, 3, CA::RemovedNote, 8)                                                              //
              }))
        return failed();

    // (0,0) ..... ..... (0,8)
    // (4,0) (4,1) ..... (4,8)
    // ..... (5,1) (5,5) (5,8)
    // (8,0) (8,1) (8,5) (8,8)
    if (!test(solver::BasicFishType::Jellyfish, // Column
              ".9.42531.3256.1..914.9.3562914.68..3..23198....3.4.19.231.946.545..36..1...15..3.",
              R"(
                .---------------.-------------.----------------.
                | 678  9    67  | 4    2   5  | 3     1    78  |
                | 3    2    5   | 6    78  1  | 47    478  9   |
                | 1    4    78  | 9    78  3  | 5     6    2   |
                :---------------+-------------+----------------:
                | 9    1    4   | 57   6   8  | 27    257  3   |
                | 567  67   2   | 3    1   9  | 8     45   467 |
                | 568  678  3   | 257  4   27 | 1     9    67  |
                :---------------+-------------+----------------:
                | 2    3    1   | 78   9   4  | 6     78   5   |
                | 4    5    789 | 278  3   6  | 79    278  1   |
                | 678  678  69  | 1    5   27 | 2479  3    478 |
                '---------------'-------------'----------------'
              )",
              solver::Technique::Jellyfish,
              {
                  // Pattern
                  CL(0, 0, CA::RelatedNote, 7), CL(0, 8, CA::RelatedNote, 7),                               //
                  CL(4, 0, CA::RelatedNote, 7), CL(4, 1, CA::RelatedNote, 7), CL(4, 8, CA::RelatedNote, 7), //
                  CL(5, 1, CA::RelatedNote, 7), CL(5, 5, CA::RelatedNote, 7), CL(5, 8, CA::RelatedNote, 7), //
                  CL(8, 0, CA::RelatedNote, 7), CL(8, 1, CA::RelatedNote, 7), CL(8, 5, CA::RelatedNote, 7), //
                  CL(8, 8, CA::RelatedNote, 7),                                                             //

                  // Remove
                  CL(0, 2, CA::RemovedNote, 7), //
                  CL(5, 3, CA::RemovedNote, 7), //
                  CL(8, 6, CA::RemovedNote, 7)  //
              }))
        return failed();

    return passed();
}